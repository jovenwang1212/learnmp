(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cart-main"],{"0488":function(t,e,i){"use strict";i.r(e);var a=i("f3d4"),o=i("aed7");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("e4ba");var s=i("2877"),c=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"a9a81842",null);e["default"]=c.exports},3896:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".iconfont[data-v-a9a81842]{font-size:%?44?%}.title[data-v-a9a81842]{height:%?88?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.title .iconfont[data-v-a9a81842]{color:#999;margin:%?6?% %?12?% 0 %?32?%}.goods-item[data-v-a9a81842]{height:%?206?%;background-color:#fff;border-top:%?1?% solid #ddd;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.goods-item .iconfont[data-v-a9a81842]{color:#eb4450;margin:0 %?30?%}.goods-item img[data-v-a9a81842]{width:%?160?%;height:%?160?%}.goods-item .right[data-v-a9a81842]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0 %?20?% 0 %?18?%}.goods-item .right .btm[data-v-a9a81842]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:%?40?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.goods-item .right .btm .price[data-v-a9a81842]{color:#eb4450}.goods-item .right .btm .price>span[data-v-a9a81842]{font-size:24px}.goods-item .right .btm .goods-num[data-v-a9a81842]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.goods-item .right .btm .goods-num uni-button[data-v-a9a81842]{width:%?60?%;height:%?50?%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border:%?4?% solid #666}.goods-item .right .btm .goods-num span[data-v-a9a81842]{margin:0 %?30?%}.goods-list[data-v-a9a81842]{position:absolute;bottom:%?98?%;top:%?88?%;width:100%;overflow:auto;padding-bottom:%?60?%;background-color:#f4f4f4}.account[data-v-a9a81842]{height:%?98?%;border-bottom:%?1?% solid #ddd;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;left:0;right:0;bottom:0;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.account .iconfont[data-v-a9a81842]{color:#eb4450;margin:0 %?30?%}.account .account-btn[data-v-a9a81842]{width:%?230?%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#fff;background-color:#eb4450}.account .select-all[data-v-a9a81842]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.account .price[data-v-a9a81842]{margin-right:%?20?%}.account .price .num[data-v-a9a81842]{color:#eb4450}.account .price .info[data-v-a9a81842]{color:#999}",""])},"8f2a":function(t,e,i){var a=i("3896");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("84f2fa84",a,!0,{sourceMap:!1,shadowMode:!1})},aed7:function(t,e,i){"use strict";i.r(e);var a=i("f776"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},e4ba:function(t,e,i){"use strict";var a=i("8f2a"),o=i.n(a);o.a},f3d4:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t._m(0),i("ul",{staticClass:"goods-list"},t._l(t.goodsList,function(e){return i("li",{key:e.goods_id,staticClass:"goods-item"},[i("span",{staticClass:"iconfont",class:e.checked?"icon-check":"icon-uncheck",on:{click:function(i){i=t.$handleEvent(i),t.toggleCheck(e)}}}),i("img",{attrs:{src:e.goods_small_logo,alt:""}}),i("div",{staticClass:"right"},[i("p",{staticClass:"text-line2"},[t._v(t._s(e.goods_name))]),i("div",{staticClass:"btm"},[i("span",{staticClass:"price"},[t._v("￥"),i("span",[t._v(t._s(e.goods_price))]),t._v(".00")]),i("div",{staticClass:"goods-num"},[i("v-uni-button",{attrs:{disabled:1===e.num},on:{click:function(i){i=t.$handleEvent(i),t.sub(e)}}},[t._v("-")]),i("span",[t._v(t._s(e.num))]),i("v-uni-button",{on:{click:function(i){i=t.$handleEvent(i),t.add(e)}}},[t._v("+")])],1)])])])}),0),i("div",{staticClass:"account"},[i("div",{staticClass:"select-all"},[i("span",{staticClass:"iconfont",class:t.isAll?"icon-check":"icon-uncheck",on:{click:function(e){e=t.$handleEvent(e),t.isAll=!t.isAll}}}),i("span",[t._v("全选")])]),i("div",{staticClass:"price"},[i("p",[t._v("合计:"),i("span",{staticClass:"num"},[t._v("￥"+t._s(t.totalPrice)+".00")])]),i("p",{staticClass:"info"},[t._v("包含运费")])]),i("div",{staticClass:"account-btn",on:{click:function(e){e=t.$handleEvent(e),t.doAccount(e)}}},[t._v("结算("+t._s(t.totalNum)+")")])])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("span",{staticClass:"iconfont icon-shop"}),i("span",[t._v("优购生活馆")])])}];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},f776:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a");var o=a(i("a4bb"));i("6b54"),i("87b3");var n={data:function(){return{goodsList:[]}},onShow:function(){this.goodsList=[],this.getGoodsList(),wx.setTabBarBadge({index:2,text:(0,o.default)(this.$store.getters.getCart).length.toString()})},onHide:function(){this.$store.commit("updateCart",this.goodsList)},methods:{sub:function(t){t.num--},add:function(t){t.num++},toggleCheck:function(t){t.checked=!t.checked},doAccount:function(){this.totalNum?wx.navigateTo({url:"/pages/pay/main"}):wx.showToast({title:"请选择商品",icon:"none"})},getGoodsList:function(){var t=this,e=this.$store.getters.getCart,i=(0,o.default)(e).join(",");i&&this.$request({url:"/api/public/v1/goods/goodslist?goods_ids="+i}).then(function(i){i.forEach(function(t){t.num=e[t.goods_id].num,t.checked=e[t.goods_id].checked}),t.goodsList=i})}},computed:{totalPrice:function(){return this.goodsList.reduce(function(t,e){return t+(e.checked?e.num*e.goods_price:0)},0)},totalNum:function(){return this.goodsList.reduce(function(t,e){return t+(e.checked?e.num:0)},0)},isAll:{get:function(){return this.goodsList.every(function(t){return t.checked})},set:function(t){this.goodsList.forEach(function(e){e.checked=t})}}}};e.default=n}}]);