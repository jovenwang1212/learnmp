(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search_list-main"],{"1c28":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".header[data-v-22191746]{height:%?120?%;background-color:#eee;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.header uni-input[data-v-22191746]{background-color:#fff;height:%?60?%;width:%?720?%;padding-left:%?74?%;-webkit-box-sizing:border-box;box-sizing:border-box}.header .search-icon[data-v-22191746]{position:absolute;left:%?44?%}.header .clear-icon[data-v-22191746]{position:absolute;right:%?44?%;z-index:100}",""])},"3c34":function(t,e,i){var n=i("8918");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("c6064310",n,!0,{sourceMap:!1,shadowMode:!1})},"48de":function(t,e,i){"use strict";i.r(e);var n=i("cbbb"),a=i("dc0e");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("96e6");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"22191746",null);e["default"]=r.exports},"4fc1":function(t,e,i){"use strict";var n=i("3c34"),a=i.n(n);a.a},5331:function(t,e,i){"use strict";i.r(e);var n=i("584f"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},"584f":function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("75fc")),s=n(i("48de")),o=6,r={components:{SearchBar:s.default},data:function(){return{menuList:["综合","销量","价格"],acitveIndex:0,query:"",goodsList:[],isLastPage:!1,isFixed:!1}},onLoad:function(t){this.query=t.query,this.reload()},onPullDownRefresh:function(){this.isFixed=!1,this.reload()},onPageScroll:function(){this.isFixed=!0},onReachBottom:function(){this.pageNum++,this.queryGoodsList()},methods:{changeIndex:function(t){this.acitveIndex=t},search:function(t){this.query=t,this.reload()},toItem:function(t){wx.navigateTo({url:"/pages/item/main?id="+t})},reload:function(){this.pageNum=1,this.isLastPage=!1,this.isRequest=!1,this.goodsList=[],this.queryGoodsList()},queryGoodsList:function(){var t=this;this.isRequest||this.isLastPage||(this.isRequest=!0,this.$request({url:"/api/public/v1/goods/search",data:{query:this.query,pagenum:this.pageNum,pagesize:o}}).then(function(e){t.goodsList=[].concat((0,a.default)(t.goodsList),(0,a.default)(e.goods)),t.goodsList.length===e.total&&(t.isLastPage=!0)}).finally(function(){t.isRequest=!1}))}}};e.default=r},"75fc":function(t,e,i){"use strict";i.r(e);var n=i("a745"),a=i.n(n);function s(t){if(a()(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var o=i("774e"),r=i.n(o),c=i("c8bb"),d=i.n(c);function u(t){if(d()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r()(t)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return s(t)||u(t)||l()}i.d(e,"default",function(){return f})},7731:function(t,e,i){"use strict";i.r(e);var n=i("a6da"),a=i("5331");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("4fc1");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"7b5b41d8",null);e["default"]=r.exports},8918:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".topHeader[data-v-7b5b41d8]{position:static;top:0;width:100%;background-color:#fff}.goods-list[data-v-7b5b41d8]{margin-top:%?220?%}.filter-menu[data-v-7b5b41d8]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;height:%?100?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.filter-menu .active[data-v-7b5b41d8]{color:#eb4450}.goods[data-v-7b5b41d8]{height:%?260?%;border-top:1px solid #ddd;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 %?20?%}.goods img[data-v-7b5b41d8]{width:%?200?%;height:%?200?%}.goods .right[data-v-7b5b41d8]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-left:%?24?%}.goods .right p[data-v-7b5b41d8]{margin-bottom:%?70?%}.goods .right .price[data-v-7b5b41d8]{color:#eb4450;font-size:%?24?%}.goods .right .price .num[data-v-7b5b41d8]{font-size:%?36?%}.hasBtm[data-v-7b5b41d8]{text-align:center;color:#666}",""])},"96e6":function(t,e,i){"use strict";var n=i("e1d7"),a=i.n(n);a.a},a6da:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"topHeader",style:{position:t.isFixed?"fixed":"static"}},[i("SearchBar",{attrs:{query:t.query},on:{confirm:function(e){e=t.$handleEvent(e),t.search(e)}}}),i("ul",{staticClass:"filter-menu"},t._l(t.menuList,function(e,n){return i("li",{key:n,class:{active:t.acitveIndex===n},on:{click:function(e){e=t.$handleEvent(e),t.changeIndex(n)}}},[t._v(t._s(e))])}),0)],1),i("ul",{staticClass:"goods-list",style:{marginTop:t.isFixed?"220rpx":"0"}},t._l(t.goodsList,function(e,n){return i("li",{key:n,staticClass:"goods",on:{click:function(i){i=t.$handleEvent(i),t.toItem(e.goods_id)}}},[i("img",{attrs:{src:e.goods_small_logo,alt:""}}),i("div",{staticClass:"right"},[i("p",{staticClass:"text-line2"},[t._v(t._s(e.goods_name))]),i("span",{staticClass:"price"},[t._v("￥"),i("span",{staticClass:"num"},[t._v(t._s(e.goods_price))]),t._v(".00")])])])}),0),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLastPage,expression:"isLastPage"}],staticClass:"hasBtm"},[t._v("--我是有底线的--")])])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},b304:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:["query"],data:function(){return{keyword:this.query}},methods:{confirmHandler:function(){this.keyword&&this.$emit("confirm",this.keyword)}},watch:{query:function(t){this.keyword=t}}};e.default=n},cbbb:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("v-uni-input",{attrs:{type:"text","confirm-type":"search"},on:{confirm:function(e){e=t.$handleEvent(e),t.confirmHandler(e)}},model:{value:t.keyword,callback:function(e){t.keyword="string"===typeof e?e.trim():e},expression:"keyword"}}),i("v-uni-icon",{staticClass:"search-icon",attrs:{type:"search",size:"16"}}),i("v-uni-icon",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],staticClass:"clear-icon",attrs:{type:"clear",size:"16",color:"#ccc"},on:{click:function(e){e=t.$handleEvent(e),t.keyword=""}}})],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},dc0e:function(t,e,i){"use strict";i.r(e);var n=i("b304"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},e1d7:function(t,e,i){var n=i("1c28");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("a5f616be",n,!0,{sourceMap:!1,shadowMode:!1})}}]);