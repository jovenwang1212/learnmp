(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cart/main"],{"22f0":function(t,n,e){"use strict";e.r(n);var o=e("a588"),i=e.n(o);for(var u in o)"default"!==u&&function(t){e.d(n,t,function(){return o[t]})}(u);n["default"]=i.a},6421:function(t,n,e){"use strict";(function(t){e("f223"),e("921b");o(e("66fd"));var n=o(e("dfa5"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},"9a82":function(t,n,e){"use strict";var o=e("a880"),i=e.n(o);i.a},a588:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={data:function(){return{goodsList:[]}},onShow:function(){var t=this.$store.getters.getCart;this.getGoodsList(t),wx.setTabBarBadge({index:2,text:this.badgeNum.toString()})},onHide:function(){this.$store.commit("updateCart",this.goodsList)},computed:{isAll:{get:function(){return this.goodsList.every(function(t){return t.checked})},set:function(t){this.goodsList.forEach(function(n){n.checked=t})}},badgeNum:function(){return this.goodsList.reduce(function(t,n){return t+(n.checked?1:0)},0)},totalNum:function(){return this.goodsList.reduce(function(t,n){return t+(n.checked?n.num:0)},0)},totalPrice:function(){return this.goodsList.reduce(function(t,n){return t+(n.checked?n.num*n.goods_price:0)},0)}},methods:{doAccount:function(){if(this.totalNum){var t=wx.getStorageSync("token");t?wx.navigateTo({url:"/pages/pay/main"}):wx.navigateTo({url:"/pages/login/main"})}else this.$showToast("请添加商品")},getGoodsList:function(t){var n=this,e=Object.keys(t).join(",");if(!e.trim())return this.goodsList=[],void this.$showToast("购物车空的！");this.$request({url:"/api/public/v1/goods/goodslist?goods_ids="+e}).then(function(e){var o=e;o.forEach(function(n){var e=t[n.goods_id];n.num=e.num,n.checked=e.checked}),n.goodsList=o})}}};n.default=o},a880:function(t,n,e){},d1b9:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){t.item.checked=!t.item.checked},t.e1=function(n){t.item.num--},t.e2=function(n){t.item.num++},t.e3=function(n){t.isAll=!t.isAll})},i=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i})},dfa5:function(t,n,e){"use strict";e.r(n);var o=e("d1b9"),i=e("22f0");for(var u in i)"default"!==u&&function(t){e.d(n,t,function(){return i[t]})}(u);e("9a82");var c=e("2877"),s=Object(c["a"])(i["default"],o["a"],o["b"],!1,null,null,null);n["default"]=s.exports}},[["6421","common/runtime","common/vendor"]]]);